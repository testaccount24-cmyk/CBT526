/*REXX*/
 TVER = "T80"
 SIGNAL ON SYNTAX   NAME SYNERROR
 SIGNAL ON ERROR    NAME GOODBYE
 SIGNAL ON FAILURE  NAME GOODBYE1
 TSSVERS = "UNABLE TO OBTAIN SPECIFIC VERSION"
 TT = OUTTRAP('OUTLINE.')
 "TSS MODIFY VERSION"
 TSSVERS = SUBSTR(OUTLINE.1,9)
 PARSE VAR TSSVERS  W.1 W.2 W.3 W.4 W.5 W.6 W.7 W.8 W.9 W.10 W.11 W.12
 DO X = 1 TO 12
   IF W.X ="VERSION=4.3" THEN TVER="T43"
   IF W.X ="4.3" THEN TVER="T43"
   IF W.X ="4.4" THEN TVER="T44"
   IF W.X ="4.5" THEN TVER="T45"
   IF W.X ="4.6" THEN TVER="T46"
   IF W.X ="4.7" THEN TVER="T47"
   IF W.X ="5.0" THEN TVER="T50"
   IF W.X ="5.1" THEN TVER="T51"
   IF W.X ="5.2" THEN TVER="T52"
   IF W.X ="5.3" THEN TVER="T53"
   IF W.X ="8.0" THEN TVER="T80"
   IF W.X ="9.0" THEN TVER="T80"
   IF W.X ="VERSION=4.2" THEN TVER="T42"
 END
/* SAY TVER*/
ADDRESS ISPEXEC "VPUT TVER PROFILE  "
ADDRESS ISPEXEC "VPUT TSSVERS PROFILE  "
EXIT 0
SYNERROR: ADDRESS ISPEXEC "VPUT TVER PROFILE  "
ADDRESS ISPEXEC "VPUT TSSVERS PROFILE  "
SAY "SYNTAX ERROR IN PROC"
EXIT 0
GOODBYE:  ADDRESS ISPEXEC "VPUT TVER PROFILE  "
ADDRESS ISPEXEC "VPUT TSSVERS PROFILE  "
/***********************************/
/* THIS IS WHERE WE COME IF THE    */
/* ID CANNOT ISSUE A MODIFY. IT IS */
/* USUALLY NOT AN ERROR....DIR     */
/***********************************/
EXIT 0
GOODBYE1: ADDRESS ISPEXEC "VPUT TVER PROFILE  "
ADDRESS ISPEXEC "VPUT TSSVERS PROFILE  "
SAY "TSSVERS: A SERIOUS FAILURE HAS OCCURED"
EXIT 1
