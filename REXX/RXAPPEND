/* REXX */
/* COPY A LINE TO DS1 */
SIGNAL OFF ERROR
ARG DSN1 DATALINE
/*IF SUBSTR(DSN1,1,1) ¬= "'" THEN   */
/*  DSN1 = "'"DSN1"'"               */
DISP = "SHR"
COUNT  = 0
LINE.0 = 1
LINE.1 = DATALINE
ADDRESS TSO "ALLOC DDN(THEDSN) DSN("DSN1") SHR REUS"
ADDRESS MVS "EXECIO * DISKR THEDSN (FINIS STEM INDSN.)"
Q = INDSN.0 + 1
IF SUBSTR(DATALINE,1,4) = "DSN=" THEN DO
  INLOGDSN = "YES"
  DATALINE= SUBSTR(DATALINE,5)
/*IF SUBSTR(DATALINE,1,1) ¬= "'" THEN */
/*  DATALINE = "'"DATALINE"'"          */
  ADDRESS TSO "ALLOC DDN(INLOG) DSN("DATALINE") SHR REUS"
  ADDRESS MVS "EXECIO * DISKR INLOG (FINIS STEM LINE.)"
  FINAL = INDSN.0 + LINE.0
  DO X = Q TO FINAL
    COUNT = COUNT  + 1
    INDSN.X = LINE.COUNT
  END
END
IF SUBSTR(DATALINE,1,4) = "DDN=" THEN DO
  DATALINE= SUBSTR(DATALINE,5)
  ADDRESS MVS "EXECIO * DISKR "DATALINE" (FINIS STEM LINE.)"
  FINAL = INDSN.0 + LINE.0
  DO X = Q TO FINAL
    COUNT = COUNT  + 1
    INDSN.X = LINE.COUNT
  END
END
ELSE INDSN.Q = DATALINE
ADDRESS TSO "ALLOC DDN(OUTLOG) DSN("DSN1") "DISP" REUS"
ADDRESS MVS "EXECIO * DISKW OUTLOG (FINIS STEM INDSN.)"
ADDRESS TSO " FREE DDN(OUTLOG) "
ADDRESS TSO " FREE DDN(THEDSN) "
IF INLOGDSN = "YES" THEN
ADDRESS TSO " FREE DDN(INLOG) "
